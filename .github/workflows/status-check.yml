name: Status Check Function
on: [push]

jobs:
    job-1:
        runs-on: ubuntu-latest
        steps:
        - name: step 1
          run: sleep 90
          timeout-minutes: 1
        - name: Fail
          id: step-2
          run: exit 1
          continue-on-error: true
        - name: Runs on failure
          if: failure() && steps.step-2.conclusion == 'failure'
          run: echo "step 2 has failed"
        - name: Runs on success
        #Below step is a default function so not needed
          if : success()
          run: echo "Runs on success"
        - name: Always runs
          if: always()
          run: echo "Always Runs"
        - name: Runs when cancelled
          if: cancelled()
          run: echo "Runs on cancelled"
    jobs-2:
        runs-on: ubuntu-latest
        needs: job-1
        if: failure()
        steps:
         - run: echo "Job 2"